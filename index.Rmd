---
title: "Midpoint Deliverable"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "./scripts/")
```
## Info about the Project
We are interested in the field of finance/economics because we are business, economics, and computational finance majors. We feel like the field of finance/economics intersects all of our major-related interests. The data sets we decided to use came from Zillow which lists the median housing prices across the nation according to a different regional category. Economic and financial analysis can be done on the housing market by analyzing the data sets. 
[Link to where data was downloaded](https://data.world/zillow-data/median-list-price/)

## Summary Code
```{r summary info, echo = FALSE, message = FALSE, warning = FALSE}
source("./summary-information.R")
```
Looking at the dataset, which displays US city median house prices, we can note
a few pieces of interesting information. According to the data, the city with
the highest median house price in 2017 was `r get_summary_info(city_price_data)[1]`,
while the city with the lowest median house price was `r get_summary_info(city_price_data)[2]`. 
The average median US city house price was 
`r get_summary_info(city_price_data)[3]` in 2017. These values demonstrate that
house price varies significantly depending on the city.
The median 2017 house price in New York, which is the largest city in the dataset,
was `r get_summary_info(city_price_data)[4]`. The median 2017 house price in Winterset,
which is tied for the smallest city listed in the data, was `r get_summary_info(city_price_data)[5]`. This data suggests that the size of city
might be correlated with the price. 

## Aggregate Table
The table created displays the highest 15 listing prices for the data sets. The
grouping calculation was done with "RegionName" because that column is what 
identifies the location type of the data set (i.e. City, State, County). The 
"RegionName" column is present in every data set so that is why it is used. 
The below data had the city data passed into the function. 

```{r aggregate table, echo = FALSE,message = FALSE, warning = FALSE}
library("knitr")
library("kableExtra")
source("./aggregate_Table.R")
kable(
  aggregate_table(city_data), align = "c",
  caption = "Top 15 Cities by Median Price",
  col.names = c("City", "Median Price ($)")
  ) %>%
  kable_styling(font_size = 20) %>%
  kable_styling(latex_options = "scale_down") %>%
  row_spec(c(1,3,5,7,9,11,13,15), color = 'black', background = '#BFEFFF') %>%
  row_spec(c(2,4,6,8,10,12,14), color = 'white', background = '#236B8E')

```

## Chart 1: Map

This map attempts to display the geographic spread of the data by placing a
marker at each city mentioned in the data set. The size of the marker is
scaled linearly on the median house price in September 2017
```{r city map, echo = FALSE, message = FALSE, warning = FALSE}
library("leaflet")
source("./first-chart.R")
map_maker(city_location)
```
As can be seen from the graph, the cities with the highest median house prices
in September 2017 (the last available date from the data) are largely clustered
around large coastal metropolis areas such as Seattle, New York, and Los
Angeles. This indicates a trend that larger cities have higher median house
prices.

## Chart Number 2
This bar plot takes the average of the given median house prices at the
beginning of each year to illustrate annual changes in house price
```{r bar chart, echo = FALSE, message = FALSE, warning = FALSE}
source("./bar-chart.R")
bar_graph(city_data)
```

This bar graph shows how prices have dropped from 2010 to 2012. And prices have
risen from 2012 to 2017. Prices were slightly higher in 2017 than in 2010,
indicating a general trend that house prices increase.

## Chart Number 3
description of what the chart attempts to answer/understand
Interprets information from the chart, honing in on important information
 
